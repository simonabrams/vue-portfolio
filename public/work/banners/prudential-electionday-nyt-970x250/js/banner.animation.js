"use strict";function getRandomInt(e,t){return Math.floor(Math.random()*(t-e))+e}function shuffle(e){var t,a,n;for(n=e.length;n;n--)t=Math.floor(Math.random()*n),a=e[n-1],e[n-1]=e[t],e[t]=a}Banner.prototype.start=function(){this.banner=document.querySelector(".banner"),this.replayContainer=document.querySelector(".replayContainer"),this.bannerWidth=this.banner.offsetWidth,this.bannerHeight=this.banner.offsetHeight,this.images=["images/bg.jpg","images/cta-arrow.png","images/cta-label.png","images/img-balloon.png","images/img-headline1.png","images/img-headline2.png","images/img-text-concerts.png","images/img-text-date-night.png","images/img-text-fishing.png","images/img-text-gardening.png","images/img-text-movie-nights.png","images/img-text-photography.png","images/img-text-roller-derby.png","images/img-text-sailing.png","images/img-text-scuba-diving.png","images/img-text-season-tickets.png","images/img-text-traveling.png","images/img-text-yoga.png","images/logo-pru.svg"];var e=this;this.preloadImages(this.images,function(){e.createElements(),e.setup(),e.hidePreloader(),e.animate(),e.bindEvents()})},Banner.prototype.createElements=function(){this.bg=this.smartObject({backgroundImage:"images/bg.jpg",width:970,height:250,parent:this.banner}),this.replay=this.smartObject({backgroundImage:"images/replay.svg",width:12,height:12,parent:this.replayContainer}),this.balloons=this.smartObject({width:"100%",height:"100%",parent:this.banner}),this.balloonConcerts=this.smartObject({backgroundImage:"images/img-balloon.png",retina:!0,parent:this.banner}),this.balloonConcertsText=this.smartObject({backgroundImage:"images/img-text-concerts.png",retina:!0,parent:this.balloonConcerts,backgroundBlendMode:"multiply"}),this.balloonDateNight=this.smartObject({backgroundImage:"images/img-balloon.png",retina:!0,parent:this.banner}),this.balloonDateNightText=this.smartObject({backgroundImage:"images/img-text-date-night.png",retina:!0,parent:this.balloonDateNight,backgroundBlendMode:"multiply"}),this.balloonFishing=this.smartObject({backgroundImage:"images/img-balloon.png",retina:!0,parent:this.banner}),this.balloonFishingText=this.smartObject({backgroundImage:"images/img-text-fishing.png",retina:!0,parent:this.balloonFishing,backgroundBlendMode:"multiply"}),this.balloonGardening=this.smartObject({backgroundImage:"images/img-balloon.png",retina:!0,parent:this.banner}),this.balloonGardeningText=this.smartObject({backgroundImage:"images/img-text-gardening.png",retina:!0,parent:this.balloonGardening,backgroundBlendMode:"multiply"}),this.balloonRollerDerby=this.smartObject({backgroundImage:"images/img-balloon.png",retina:!0,parent:this.banner}),this.balloonRollerDerbyText=this.smartObject({backgroundImage:"images/img-text-roller-derby.png",retina:!0,parent:this.balloonRollerDerby,backgroundBlendMode:"multiply"}),this.balloonSailing=this.smartObject({backgroundImage:"images/img-balloon.png",retina:!0,parent:this.banner}),this.balloonSailingText=this.smartObject({backgroundImage:"images/img-text-sailing.png",retina:!0,parent:this.balloonSailing,backgroundBlendMode:"multiply"}),this.balloonScuba=this.smartObject({backgroundImage:"images/img-balloon.png",retina:!0,parent:this.banner}),this.balloonScubaText=this.smartObject({backgroundImage:"images/img-text-scuba-diving.png",retina:!0,parent:this.balloonScuba,backgroundBlendMode:"multiply"}),this.balloonSeasonTickets=this.smartObject({backgroundImage:"images/img-balloon.png",retina:!0,parent:this.banner}),this.balloonSeasonTicketsText=this.smartObject({backgroundImage:"images/img-text-season-tickets.png",retina:!0,parent:this.balloonSeasonTickets,backgroundBlendMode:"multiply"}),this.balloonTraveling=this.smartObject({backgroundImage:"images/img-balloon.png",retina:!0,parent:this.banner}),this.balloonTravelingText=this.smartObject({backgroundImage:"images/img-text-traveling.png",retina:!0,parent:this.balloonTraveling,backgroundBlendMode:"multiply"}),this.logo=this.smartObject({backgroundImage:"images/logo-pru.svg",width:302,height:90,x:50,y:139,parent:this.banner}),this.headline1=this.smartObject({backgroundImage:"images/img-headline1.png",retina:!0,parent:this.banner}),this.headline2=this.smartObject({backgroundImage:"images/img-headline2.png",retina:!0,parent:this.banner}),this.cta=this.smartObject({parent:this.banner,overflow:"hidden",width:198,height:41,x:739,y:163}),this.ctaLabelMask=this.smartObject({parent:this.cta,width:178,height:41}),this.ctaLabel=this.smartObject({backgroundImage:"images/cta-label.png",backgroundSize:"cover",parent:this.ctaLabelMask,width:178,height:41}),this.ctaArrow=this.smartObject({backgroundImage:"images/cta-arrow.png",backgroundSize:"cover",parent:this.cta,width:178,height:41})},Banner.prototype.setup=function(){function e(e,t,a,n){var i,o,s=[];for(o=Math.floor(e/a),i=1;i<=o;i+=1)s.push({x:Math.round(e*i/o)+getRandomInt(n*-1,n)});return s}function t(e,t){var a,n;return a=getRandomInt(0,e.length-1),n=e[a],t&&e.splice(a,1),n}function a(a){for(var n=e(750,250,250,50),i=0;i<a.length;i++){var o=a[i],s=t(n,!0),r=getRandomInt(75,100)/100;TweenMax.set(o,{x:s.x-100*Math.random(),scale:r})}}this.balloons1=[this.balloonConcerts,this.balloonDateNight,this.balloonFishing],this.balloons2=[this.balloonGardening,this.balloonRollerDerby,this.balloonSailing],this.balloons3=[this.balloonScuba,this.balloonSeasonTickets,this.balloonTraveling],this.balloons=[this.balloons1,this.balloons2,this.balloons3],TweenMax.set(this.ctaLabelMask,{clip:"rect(0 156px 41px 0)"}),TweenMax.set(this.headline2,{force3D:!0,rotationZ:.01});var n=[this.headline2];TweenLite.set(n,{alpha:0});for(var i=0;i<this.balloons.length;i++){var o=this.balloons[i];a(o)}this.banner.addEventListener("mouseover",function(){TweenMax.to(banner.ctaArrow,.15,{x:8,ease:Back.easeIn})}),this.banner.addEventListener("mouseout",function(){TweenMax.to(banner.ctaArrow,.2,{x:0,ease:Power1.easeOut})})},Banner.prototype.hidePreloader=function(){TweenLite.to(".preloader",1,{autoAlpha:0})},Banner.prototype.animate=function(){function e(e){for(var t=new TimelineMax,a=0;a<e.length;a++){var n=e[a],i=getRandomInt(70,90)/10,o=a*getRandomInt(8,12)/10;t.fromTo(n,i,{y:250},{y:-600,ease:Sine.easeInOut},o),TweenMax.to(n,.3*i,{x:"+="+getRandomInt(-50,50),ease:Sine.easeInOut,repeat:-1,repeatDelay:.07,yoyo:!0})}return t}function t(){n.timeline.restart()}function a(){TweenMax.to(this,.3,{rotationZ:360,transformOrigin:"50% 44%",onComplete:function(){TweenMax.set(banner.replay,{rotationZ:0})}})}var n=this;this.timeline=(new TimelineLite).addLabel("start",0).addLabel("text1Out",5.5).addLabel("endframe",6.5).add(e(banner.balloons1),"start").add(e(banner.balloons2),7).add(e(banner.balloons3),11.5).to(this.headline1,.5,{alpha:0,ease:Power1.easeOut},"text1Out").to(this.headline2,.65,{alpha:1,ease:Power1.easeOut},"endframe").from(this.ctaArrow,.25,{alpha:0,ease:Power3.easeOut},"endframe+=0.4").from(this.ctaLabel,.5,{x:160,alpha:0,ease:Power3.easeOut},"endframe+=0.75").from(this.replay,.2,{alpha:0,ease:Power3.easeOut},"endframe+=4"),this.replay.addEventListener("mousedown",t),this.replay.addEventListener("mouseover",a)};