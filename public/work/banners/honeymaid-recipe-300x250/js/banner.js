"use strict";var Banner=function(){this.loader(),this.imageCache={}};Banner.prototype.onInit=function(){console.log("Banner initialised")},Banner.prototype.onPolite=function(){console.log("Polite loading scripts")},Banner.prototype.onVisible=function(){var e=this;this.politeLoad(["https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/TweenLite.min.js","https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/TimelineLite.min.js","https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/plugins/CSSPlugin.min.js","https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/easing/EasePack.min.js"],function(){e.start()})},Banner.prototype.smartObject=function(e){function t(){s.id&&(r.id=s.id),s.parent&&s.parent.appendChild(r),s.innerHTML&&(r.innerHTML=s.innerHTML),delete s.innerHTML,delete s.retina,delete s.parent,delete s.id,delete s.type,delete s.autoplay,delete s.loop,delete s.controls,delete s.muted,delete s.poster,delete s.preload,delete s.sources,TweenLite.set(r,s)}function i(){var e=".svg"===this.src.slice(-4);e&&document.body.appendChild(this),s.width=Math.round(s.width||(s.retina?this.width/2:this.width)),s.height=Math.round(s.height||(s.retina?this.height/2:this.height)),s.backgroundImage="url("+this.src+")",t(),e&&document.body.removeChild(this)}function n(e,t){var n=o.imageCache[e];n?t&&i.apply(n):(n=document.createElement("img"),n.src=e,t&&(n.onload=i),o.imageCache[e]=n)}var o=this,s=e||{};s.type=s.type||"div",s.position=s.position||"absolute",s.left=s.left||"0",s.top=s.top||"0";var r=document.createElement(s.type);r._settings=s.constructor();for(var a in s)r._settings[a]=s[a];switch(s.type){case"canvas":r.width=s.width,r.height=s.height;break;case"video":s.autoplay&&(r.autoplay=s.autoplay),s.loop&&(r.loop=s.loop),s.controls&&(r.controls=s.controls),s.muted&&(r.muted=s.muted),s.poster&&(r.poster=s.poster),s.preload&&(r.preload=s.preload)}if(s.sources)for(var l=s.sources,c=0;c<l.length;c++){var d=document.createElement("source");d.src=l[c].url,d.type=l[c].type,r.appendChild(d)}if(s.backgroundImage)if(r.style.backgroundSize=s.backgroundSize||"",r.style.backgroundPosition=s.backgroundPosition||"",r.style.backgroundRepeat=s.backgroundRepeat||"no-repeat","[object Array]"===Object.prototype.toString.call(s.backgroundImage)){r.images=s.backgroundImage;for(var h=0;h<r.images.length;++h)n(r.images[h],0===h)}else n(s.backgroundImage,!0);else t();return r.appendChildren=function(e){for(var t=0;t<e.length;++t)this.appendChild(e[t])},r.set=function(e){TweenLite.set(this,e)},r.to=function(e,t){TweenLite.to(this,e,t)},r.from=function(e,t){TweenLite.from(this,e,t)},r.fromTo=function(e,t,i){TweenLite.fromTo(this,e,t,i)},r.get=function(e){return this._gsTransform&&this._gsTransform[e]||this._gsTransform&&0===this._gsTransform[e]?this._gsTransform[e]:"px"===this.style[e].slice(-2)?parseFloat(this.style[e]):this.style[e]},r.center=function(){TweenLite.set(this,{top:"50%",marginTop:-this.offsetHeight/2,left:"50%",marginLeft:-this.offsetWidth/2})},r.centerHorizontal=function(){TweenLite.set(this,{left:"50%",marginLeft:-this.offsetWidth/2})},r.centerVertical=function(){TweenLite.set(this,{top:"50%",marginTop:-this.offsetHeight/2})},r.getOriginal=function(e){return r._settings[e]||0},r},Banner.prototype.preloadImages=function(e,t,i){for(var n=this,o=e.length,s=0,r=null,a=0;o>a;++a)r=document.createElement("img"),r.src=r.microSrc=e[a],r.onload=function(){n.imageCache[this.microSrc]=this,s++,s===o&&(i?t.call(i):t())}};