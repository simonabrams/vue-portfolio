"use strict";Banner.prototype.start=function(){this.banner=document.querySelector(".banner"),this.bannerWidth=this.banner.offsetWidth,this.bannerHeight=this.banner.offsetHeight,this.settings={footerTop:196,textSize:179,chipSize:37,chipPositions:[{x:-12,y:48},{x:-18,y:109},{x:33,y:81},{x:-29,y:190},{x:23,y:153},{x:67,y:181},{x:170,y:181},{x:260,y:177},{x:216,y:144},{x:261,y:109},{x:218,y:66},{x:269,y:47},{x:287,y:-27},{x:234,y:10},{x:152,y:-12},{x:89,y:-10},{x:5,y:-17},{x:44,y:20}]},this.images=["images/bg.jpg","images/chip.png","images/lid.png","images/logo.png","images/product-final.png","images/product-shadow.png","images/product.png","images/text-available-now.png","images/text-creamy.png","images/text-new.png","images/text-philly-dips.png","images/text-rich.png"];var t=this;this.preloadImages(this.images,function(){t.createElements(),t.setup(),t.hidePreloader(),t.animate(),t.bindEvents()})},Banner.prototype.makePattern=function(t,e){for(var a=[],i=this.settings.chipPositions.length,n=0;n<i;n++){var r=this.settings.chipPositions[n],s=r.x,o=r.y,h=this.smartObject({backgroundImage:t,parent:e,retina:!0,x:s,y:o,width:this.settings.chipSize,height:this.settings.chipSize,transfomrOrigin:"50% 50%"});a.push(h)}return a=function(t){for(var e,a,i=t.length;0!==i;)a=Math.floor(Math.random()*i),e=t[i-=1],t[i]=t[a],t[a]=e;return t}(a)},Banner.prototype.createElements=function(){this.chipContainer=this.smartObject({parent:this.banner,id:"chip-container"}),this.productHolder=this.smartObject({parent:this.banner,width:this.settings.textSize,height:this.settings.textSize,x:63,y:16}),this.textNew=this.smartObject({backgroundImage:"images/text-new.png",parent:this.productHolder,retina:!0,transformOrigin:"50% 13%"}),this.upperMask=this.smartObject({parent:this.productHolder,width:this.bannerWidth,height:.5*this.bannerHeight}),this.lowerMask=this.smartObject({parent:this.productHolder,width:this.settings.textSize,height:.5*this.settings.textSize,y:.5*this.settings.textSize,overflow:"hidden"}),this.textDips=this.smartObject({backgroundImage:"images/text-philly-dips.png",parent:this.lowerMask,y:"-50%",retina:!0}),this.textRich=this.smartObject({backgroundImage:"images/text-rich.png",parent:this.productHolder,retina:!0}),this.textCreamy=this.smartObject({backgroundImage:"images/text-creamy.png",parent:this.productHolder,retina:!0}),this.product=this.smartObject({backgroundImage:"images/product.png",retina:!0,parent:this.productHolder}),this.lid=this.smartObject({backgroundImage:"images/lid.png",retina:!0,parent:this.productHolder}),this.marbleTexture=this.smartObject({backgroundImage:"images/bg.jpg",parent:this.banner,retina:!0}),this.productFinal=this.smartObject({backgroundImage:"images/product-final.png",parent:this.banner,retina:!0}),this.productShadow=this.smartObject({backgroundImage:"images/product-shadow.png",parent:this.banner,retina:!0}),this.textAvailableNow=this.smartObject({backgroundImage:"images/text-available-now.png",parent:this.banner,retina:!0}),this.logo=this.smartObject({backgroundImage:"images/logo.png",retina:!0,parent:this.banner})},Banner.prototype.setup=function(){this.chips=this.makePattern("images/chip.png",this.chipContainer)},Banner.prototype.hidePreloader=function(){TweenLite.to(".preloader",1,{autoAlpha:0})},Banner.prototype.animate=function(){function t(){var t=new TimelineMax;return t.staggerTo(e.chips,.5,{cycle:{rotation:[8,-8]},yoyo:!0,repeat:20},.01),t}var e=this;this.timeline=new TimelineMax({onComplete:function(){TweenLite.killTweensOf(e.chips)}}),this.timeline.add(function(){var t=new TimelineMax;return t.add("start",0).fromTo(e.textNew,.3,{scale:.5,autoAlpha:0},{scale:1,autoAlpha:1,ease:Back.easeOut.config(.7)},"start"),t}()).add(function(){var a=new TimelineMax;return a.add("start",0).to(e.lid,.5,{x:e.bannerWidth,scale:1.05,rotation:"+=180",ease:Power1.easeIn},"start+=0.2").staggerFrom(e.chips,.6,{autoAlpha:0,scale:.1,ease:Elastic.easeOut.config(1,.5)},.005,"start+=0.5").add(t(),"start+=0.5").from(e.textDips,.6,{rotation:"+=160"},"start"),a}(),2.5).add(function(){var t=new TimelineMax;return t.to(e.textNew,.3,{scale:.5,autoAlpha:0,ease:Back.easeOut}).to(e.textDips,.6,{rotation:-120,autoAlpha:0}).staggerFrom([e.textRich,e.textCreamy],.6,{autoAlpha:0,rotation:"+=120"},.1),t}(),4.75).add(function(){var t=new TimelineMax;return t.add("start",0).from(e.marbleTexture,.6,{y:e.settings.footerTop,ease:Power2.easeOut},"start").from(e.textAvailableNow,.3,{autoAlpha:0},"start+=0.4").from(e.productFinal,.6,{scale:.4,autoAlpha:0,ease:Back.easeOut.config(1.2)},"start+=0.5").from(e.productShadow,.6,{scale:.9,autoAlpha:0,y:"-=20",ease:Back.easeOut.config(1.2)},"start+=0.55"),t}(),8.5)};