"use strict";var Banner=function(){this.loader(),this.imageCache={}};Banner.prototype.onInit=function(){console.log("Banner initialised")},Banner.prototype.onPolite=function(){console.log("Polite loading scripts")},Banner.prototype.onVisible=function(){var e=this;this.politeLoad(["https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js"],function(){e.start()})},Banner.prototype.smartObject=function(e){function t(){r.id&&(s.id=r.id),r.parent&&r.parent.appendChild(s),r.innerHTML&&(s.innerHTML=r.innerHTML),delete r.innerHTML,delete r.retina,delete r.parent,delete r.id,delete r.type,delete r.autoplay,delete r.loop,delete r.controls,delete r.muted,delete r.poster,delete r.preload,delete r.playsinline,delete r.sources,delete r.src,delete r.alt,TweenLite.set(s,r)}function n(){var e=".svg"===this.src.slice(-4);e&&document.body.appendChild(this),r.width=Math.round(r.width||(r.retina?this.width/2:this.width)),r.height=Math.round(r.height||(r.retina?this.height/2:this.height)),r.backgroundImage="url("+this.src+")",t(),e&&document.body.removeChild(this)}function i(e,t){var i=o.imageCache[e];i?t&&n.apply(i):((i=document.createElement("img")).src=e,t&&(i.onload=n),o.imageCache[e]=i)}var o=this,r=e||{};r.type=r.type||"div",r.position=r.position||"absolute",r.left=r.left||"0",r.top=r.top||"0";var s=document.createElement(r.type);s._settings=r.constructor();for(var a in r)s._settings[a]=r[a];switch(r.type){case"canvas":s.width=r.width,s.height=r.height;break;case"video":r.autoplay&&(s.autoplay=r.autoplay),r.loop&&(s.loop=r.loop),r.controls&&(s.controls=r.controls),r.muted&&(s.muted=r.muted,s.setAttribute("muted","")),r.poster&&(s.poster=r.poster),r.preload&&(s.preload=r.preload),r.playsinline&&s.setAttribute("playsinline",""),r.src&&(s.src=r.src);break;case"img":s.src=r.src,s.alt=r.alt}if(r.sources){for(var c=r.sources,l=document.createDocumentFragment(),d=0;d<c.length;d++){var h=document.createElement("source");h.src=c[d].url,h.type=c[d].type,l.appendChild(h)}s.appendChild(l)}if(r.backgroundImage)if(s.style.backgroundSize=r.backgroundSize||"100% 100%",s.style.backgroundPosition=r.backgroundPosition||"center",s.style.backgroundRepeat=r.backgroundRepeat||"no-repeat","[object Array]"===Object.prototype.toString.call(r.backgroundImage)){s.images=r.backgroundImage;for(var p=0;p<s.images.length;++p)i(s.images[p],0===p)}else i(r.backgroundImage,!0);else t();return s.appendChildren=function(e){for(var t=document.createDocumentFragment(),n=0;n<e.length;n++)t.appendChild(e[n]);this.appendChild(t)},s.set=function(e){TweenLite.set(this,e)},s.to=function(e,t){TweenLite.to(this,e,t)},s.from=function(e,t){TweenLite.from(this,e,t)},s.fromTo=function(e,t,n){TweenLite.fromTo(this,e,t,n)},s.get=function(e){return this._gsTransform&&this._gsTransform[e]||this._gsTransform&&0===this._gsTransform[e]?this._gsTransform[e]:"px"===this.style[e].slice(-2)?parseFloat(this.style[e]):this.style[e]},s.center=function(){TweenLite.set(this,{top:"50%",marginTop:-this.offsetHeight/2,left:"50%",marginLeft:-this.offsetWidth/2})},s.centerHorizontal=function(){TweenLite.set(this,{left:"50%",marginLeft:-this.offsetWidth/2})},s.centerVertical=function(){TweenLite.set(this,{top:"50%",marginTop:-this.offsetHeight/2})},s.getOriginal=function(e){return s._settings[e]||0},s},Banner.prototype.preloadImages=function(e,t,n){for(var i=this,o=e.length,r=0,s=null,a=0;a<o;++a)(s=document.createElement("img")).src=s.microSrc=e[a],s.onload=function(){i.imageCache[this.microSrc]=this,++r===o&&(n?t.call(n):t())}};